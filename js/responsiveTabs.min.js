// ResponsiveTabs.js | Version:1.10 | Author:Pete Love | www.petelove.com
var RESPONSIVEUI={};!function(e){RESPONSIVEUI.responsiveTabs=function(){var s=e(".responsive-tabs");if(!s.hasClass("responsive-tabs--enabled")){s.addClass("responsive-tabs--enabled");var a=1;s.each(function(){var s=e(this);s.children(":header").addClass("responsive-tabs__heading"),s.children("div").addClass("responsive-tabs__panel");var i=s.children(".responsive-tabs__panel--active");i.length||(i=s.children(".responsive-tabs__panel").first().addClass("responsive-tabs__panel--active")),s.children(".responsive-tabs__panel").not(".responsive-tabs__panel--active").hide().attr("aria-hidden","true"),i.attr("aria-hidden","false"),i.addClass("responsive-tabs__panel--closed-accordion-only");var t=e("<div/>",{class:"responsive-tabs-wrapper"});s.wrap(t);var n=0;s.children(".responsive-tabs__panel").each(function(){var s=e(this).height();s>n&&(n=s)});var l=e("<ul/>",{class:"responsive-tabs__list",role:"tablist"}),r=1;s.children(".responsive-tabs__heading").each(function(){var i=e(this),o=e(this).next();i.attr("tabindex",0);var d=e("<li/>",{class:"responsive-tabs__list__item",id:"tablist"+a+"-tab"+r,"aria-controls":"tablist"+a+"-panel"+r,role:"tab",tabindex:0,text:i.text(),keydown:function(e){13===e.keyCode&&d.click()},click:function(){t.css("height",n),s.children(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only"),s.children(".responsive-tabs__panel--active").toggle().removeClass("responsive-tabs__panel--active").attr("aria-hidden","true").prev().removeClass("responsive-tabs__heading--active"),o.toggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false"),i.addClass("responsive-tabs__heading--active"),l.children(".responsive-tabs__list__item--active").removeClass("responsive-tabs__list__item--active"),d.addClass("responsive-tabs__list__item--active"),t.css("height","auto")}});o.attr({role:"tabpanel","aria-labelledby":d.attr("id"),id:"tablist"+a+"-panel"+r}),o.hasClass("responsive-tabs__panel--active")&&d.addClass("responsive-tabs__list__item--active"),l.append(d),i.keydown(function(e){13===e.keyCode&&i.click()}),i.click(function(){if(s.children(".responsive-tabs__panel--closed-accordion-only").removeClass("responsive-tabs__panel--closed-accordion-only"),i.hasClass("responsive-tabs__heading--active"))o.removeClass("responsive-tabs__panel--active").slideToggle(function(){e(this).addClass("responsive-tabs__panel--closed-accordion-only")}),i.removeClass("responsive-tabs__heading--active");else{var a,t=s.children(".responsive-tabs__heading--active");t.length&&(a=t.offset().top),s.children(".responsive-tabs__panel--active").slideToggle().removeClass("responsive-tabs__panel--active").prev().removeClass("responsive-tabs__heading--active"),s.children(".responsive-tabs__panel").hide().attr("aria-hidden","true"),o.slideToggle().addClass("responsive-tabs__panel--active").attr("aria-hidden","false"),i.addClass("responsive-tabs__heading--active"),s.children(".responsive-tabs__list__item--active").removeClass("responsive-tabs__list__item--active");var n=o.attr("id").replace("panel","tab");e("#"+n).addClass("responsive-tabs__list__item--active");var l=s.offset().top,r=i.offset().top-15;a<r&&e("html, body").animate({scrollTop:l},0).animate({scrollTop:r},400)}}),r++}),s.prepend(l),a++})}}}(jQuery);